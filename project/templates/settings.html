<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/settings.css') }}">
</head>
<body>
    <div class="container">
        <h1>Settings</h1>
        <form method="POST" action="{{ url_for('settings') }}">
            <div class="form-group">
                <label for="firstname">First Name:</label>
                <input type="text" id="firstname" name="firstname" value="{{ user.firstname }}" required>
            </div>
            <div class="form-group">
                <label for="lastname">Last Name:</label>
                <input type="text" id="lastname" name="lastname" value="{{ user.lastname }}" required>
            </div>
            <div class="form-group">
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" value="{{ user.email }}" required>
            </div>
            <div class="form-group">
                <label for="password">Password:</label>
                <input type="password" id="password" name="password" value="{{ user.password }}" required>
                <button type="button" class="toggle-password" onclick="togglePasswordVisibility()">Show/Hide Password</button>
            </div>
            <div class="form-group">
                <label for="gender">Gender:</label>
                <select id="gender" name="gender" required>
                    <option value="male" {% if user.gender == 'male' %}selected{% endif %}>Male</option>
                    <option value="female" {% if user.gender == 'female' %}selected{% endif %}>Female</option>
                    <option value="other" {% if user.gender == 'other' %}selected{% endif %}>Other</option>
                </select>
            </div>
            <div class="form-group">
                <label for="height">Height (cm):</label>
                <input type="number" id="height" name="height" value="{{ user.height }}" required>
            </div>
            <div class="form-group">
                <label for="weight">Weight (kg):</label>
                <input type="number" id="weight" name="weight" value="{{ user.weight }}" required>
            </div>
            <div class="form-group">
                <label for="dob">Date of Birth:</label>
                <input type="date" id="dob" name="dob" value="{{ user.dob.strftime('%Y-%m-%d') }}" required>
            </div>
            <div class="buttons">
                <button type="submit">Save Changes</button>
                <button type="button" onclick="window.location.href='{{ url_for('select_exercises') }}'">New Exercise</button>
                <button type="button" onclick="window.location.href='{{ url_for('history') }}'">Profile</button>
            </div>
        </form>
        <h1>Contact Us</h1>
        <form method="POST" action="{{ url_for('settings') }}">
            <div class="form-group">
                <label for="message">Your Message:</label>
                <textarea id="message" name="message" rows="4" required></textarea>
            </div>
            <div class="buttons">
                <button type="submit">Send Feedback</button>
            </div>
        </form>
        {% if success_message %}
            <p class="message success">{{ success_message }}</p>
        {% endif %}
        {% if feedback_success %}
            <p class="message success">Message sent successfully!</p>
        {% endif %}
    </div>
    <script src="{{ url_for('static', filename='js/settings.js') }}"></script>
</body>
</html>
